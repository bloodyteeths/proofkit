# ProofKit Environment Configuration
# Copy this file to .env and adjust values for your deployment

# Data retention settings
# Number of days to retain evidence bundles in storage
RETENTION_DAYS=14

# File upload limits
# Maximum file upload size in megabytes
MAX_UPLOAD_MB=10

# Application URLs
# Base URL for the application (used in generated PDFs and links)
BASE_URL=http://localhost:8080

# CORS configuration
# Allowed origins for cross-origin requests (* for all origins)
CORS_ORIGINS=*

# Rate limiting
# Maximum requests per minute per IP address
RATE_LIMIT_PER_MIN=30

# Trial Protection
# Maximum trial accounts per IP address
MAX_TRIALS_PER_IP=2
# Maximum trial accounts per device fingerprint  
MAX_TRIALS_PER_FINGERPRINT=3
# Days before IP can create another trial account
TRIAL_COOLDOWN_DAYS=30

# Python/Matplotlib configuration
# Use non-interactive backend for headless environments
MPLBACKEND=Agg

# Python configuration
# Ensure output is not buffered (important for Docker logs)
PYTHONUNBUFFERED=1

# Timezone configuration
# Set timezone for consistent timestamp handling
TZ=UTC

# Security settings (optional, uncomment for production)
# SECRET_KEY=your-secret-key-here-replace-with-random-string
# JWT_SECRET=your-jwt-secret-here-if-using-authentication

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://username:password@host:5432/database
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_ECHO=false
USE_PGBOUNCER=false

# AWS Infrastructure
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=eu-central-1
DDB_TABLE=proofkit_cache
S3_BUCKET=proofkit-backups

# Magic Link Authentication
JWT_SECRET=your-secret-key-change-in-production
EMAIL_DEV_MODE=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
FROM_EMAIL=noreply@proofkit.com

# Logging configuration
# LOG_LEVEL=INFO
# LOG_FORMAT=json

# Performance tuning
# WORKER_PROCESSES=2
# WORKER_CONNECTIONS=1000
# MAX_REQUESTS=1000
# REQUEST_TIMEOUT=60

# Monitoring and health checks
# HEALTH_CHECK_TIMEOUT=10
# METRICS_ENABLED=true
# SENTRY_DSN=your-sentry-dsn-for-error-tracking

# Development settings (not for production)
# DEBUG=false
# RELOAD=false
# ACCESS_LOG=true

# Email Configuration (Postmark)
POSTMARK_TOKEN=your-postmark-server-api-token
FROM_EMAIL=no-reply@proofkit.net
REPLY_TO_EMAIL=support@proofkit.net
SUPPORT_INBOX=support@proofkit.net

# Stripe Payment Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs (configure these after creating products in Stripe Dashboard)
STRIPE_PRICE_ID_STARTER=price_starter_monthly_id
STRIPE_PRICE_ID_PRO=price_pro_monthly_id 
STRIPE_PRICE_ID_BUSINESS=price_business_monthly_id